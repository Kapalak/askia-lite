{"version":3,"sources":["services/auth.service.ts","components/login.component.tsx","components/home.component.tsx","components/profile.component.tsx","services/auth-header.ts","services/user.service.ts","common/EventBus.ts","components/board-user.component.tsx","components/board-moderator.component.tsx","components/board-admin.component.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["API_URL","username","password","axios","post","then","response","data","accessToken","localStorage","setItem","JSON","stringify","removeItem","email","userStr","getItem","parse","Login","props","handleLogin","bind","state","loading","message","Yup","shape","required","formValue","this","setState","AuthService","login","history","push","window","location","reload","error","resMessage","toString","className","src","alt","initialValues","validationSchema","onSubmit","htmlFor","name","type","component","disabled","role","Component","Home","content","Profile","redirect","userReady","currentUser","getCurrentUser","to","substring","substr","length","id","roles","map","index","authHeader","user","Authorization","get","headers","eventBus","on","event","callback","document","addEventListener","e","dispatch","dispatchEvent","CustomEvent","detail","remove","removeEventListener","BoardUser","UserService","getUserBoard","status","EventBus","BoardAdmin","getModeratorBoard","getAdminBoard","App","logOut","showModeratorBoard","showAdminBoard","undefined","includes","logout","href","onClick","exact","path","BoardModerator","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.db82e58e.chunk.js","sourcesContent":["import axios from \"axios\";\n\nconst API_URL = \"http://localhost:8080/api/auth/\";\n\nclass AuthService {\n  login(username: string, password: string) {\n    return axios\n      .post(API_URL + \"signin\", {\n        username,\n        password\n      })\n      .then(response => {\n        if (response.data.accessToken) {\n          localStorage.setItem(\"user\", JSON.stringify(response.data));\n        }\n\n        return response.data;\n      });\n  }\n\n  logout() {\n    localStorage.removeItem(\"user\");\n  }\n\n  register(username: string, email: string, password: string) {\n    return axios.post(API_URL + \"signup\", {\n      username,\n      email,\n      password\n    });\n  }\n\n  getCurrentUser() {\n    const userStr = localStorage.getItem(\"user\");\n    if (userStr) return JSON.parse(userStr);\n\n    return null;\n  }\n}\n\nexport default new AuthService();\n","import { Component } from \"react\";\nimport { RouteComponentProps } from \"react-router-dom\";\nimport { Formik, Field, Form, ErrorMessage } from \"formik\";\nimport * as Yup from \"yup\";\n\nimport AuthService from \"../services/auth.service\";\n\ninterface RouterProps {\n  history: string;\n}\n\ntype Props = RouteComponentProps<RouterProps>;\n\ntype State = {\n  username: string,\n  password: string,\n  loading: boolean,\n  message: string\n};\n\nexport default class Login extends Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.handleLogin = this.handleLogin.bind(this);\n\n    this.state = {\n      username: \"\",\n      password: \"\",\n      loading: false,\n      message: \"\"\n    };\n  }\n\n  validationSchema() {\n    return Yup.object().shape({\n      username: Yup.string().required(\"This field is required!\"),\n      password: Yup.string().required(\"This field is required!\"),\n    });\n  }\n\n  handleLogin(formValue: { username: string; password: string }) {\n    const { username, password } = formValue;\n\n    this.setState({\n      message: \"\",\n      loading: true\n    });\n\n\n    AuthService.login(username, password).then(\n      () => {\n        this.props.history.push(\"/profile\");\n        window.location.reload();\n      },\n      error => {\n        const resMessage =\n          (error.response &&\n            error.response.data &&\n            error.response.data.message) ||\n          error.message ||\n          error.toString();\n\n        this.setState({\n          loading: false,\n          message: resMessage\n        });\n      }\n    );\n  }\n\n  render() {\n    const { loading, message } = this.state;\n\n    const initialValues = {\n      username: \"\",\n      password: \"\",\n    };\n\n    return (\n      <div className=\"col-md-12\">\n        <div className=\"card card-container\">\n          <img\n            src=\"//ssl.gstatic.com/accounts/ui/avatar_2x.png\"\n            alt=\"profile-img\"\n            className=\"profile-img-card\"\n          />\n\n          <Formik\n            initialValues={initialValues}\n            validationSchema={this.validationSchema}\n            onSubmit={this.handleLogin}\n          >\n            <Form>\n              <div className=\"form-group\">\n                <label htmlFor=\"username\">Username</label>\n                <Field name=\"username\" type=\"text\" className=\"form-control\" />\n                <ErrorMessage\n                  name=\"username\"\n                  component=\"div\"\n                  className=\"alert alert-danger\"\n                />\n              </div>\n\n              <div className=\"form-group\">\n                <label htmlFor=\"password\">Password</label>\n                <Field name=\"password\" type=\"password\" className=\"form-control\" />\n                <ErrorMessage\n                  name=\"password\"\n                  component=\"div\"\n                  className=\"alert alert-danger\"\n                />\n              </div>\n\n              <div className=\"form-group\">\n                <button type=\"submit\" className=\"btn btn-primary btn-block\" disabled={loading}>\n                  {loading && (\n                    <span className=\"spinner-border spinner-border-sm\"></span>\n                  )}\n                  <span>Login</span>\n                </button>\n              </div>\n\n              {message && (\n                <div className=\"form-group\">\n                  <div className=\"alert alert-danger\" role=\"alert\">\n                    {message}\n                  </div>\n                </div>\n              )}\n            </Form>\n          </Formik>\n        </div>\n      </div>\n    );\n  }\n}\n","import { Component } from \"react\";\n\ntype Props = {};\n\ntype State = {\n  content: string;\n}\n\nexport default class Home extends Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n\n    this.state = {\n      content: \"This is a PoC for SignalR\"\n    };\n  }\n\n  // componentDidMount() {\n  //   UserService.getPublicContent().then(\n  //     response => {\n  //       this.setState({\n  //         content: response.data\n  //       });\n  //     },\n  //     error => {\n  //       this.setState({\n  //         content:\n  //           (error.response && error.response.data) ||\n  //           error.message ||\n  //           error.toString()\n  //       });\n  //     }\n  //   );\n  // }\n\n  render() {\n    return (\n      <div className=\"container\">\n        <header className=\"jumbotron\">\n          <h3>{this.state.content}</h3>\n        </header>\n      </div>\n    );\n  }\n}\n","import { Component } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport AuthService from \"../services/auth.service\";\nimport IUser from \"../types/user.type\";\n\ntype Props = {};\n\ntype State = {\n  redirect: string | null,\n  userReady: boolean,\n  currentUser: IUser & { accessToken: string }\n}\nexport default class Profile extends Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n\n    this.state = {\n      redirect: null,\n      userReady: false,\n      currentUser: { accessToken: \"\" }\n    };\n  }\n\n  componentDidMount() {\n    const currentUser = AuthService.getCurrentUser();\n\n    if (!currentUser) this.setState({ redirect: \"/home\" });\n    this.setState({ currentUser: currentUser, userReady: true })\n  }\n\n  render() {\n    if (this.state.redirect) {\n      return <Redirect to={this.state.redirect} />\n    }\n\n    const { currentUser } = this.state;\n\n    return (\n      <div className=\"container\">\n        {(this.state.userReady) ?\n          <div>\n            <header className=\"jumbotron\">\n              <h3>\n                <strong>{currentUser.username}</strong> Profile\n              </h3>\n            </header>\n            <p>\n              <strong>Token:</strong>{\" \"}\n              {currentUser.accessToken.substring(0, 20)} ...{\" \"}\n              {currentUser.accessToken.substr(currentUser.accessToken.length - 20)}\n            </p>\n            <p>\n              <strong>Id:</strong>{\" \"}\n              {currentUser.id}\n            </p>\n            <p>\n              <strong>Email:</strong>{\" \"}\n              {currentUser.email}\n            </p>\n            <strong>Authorities:</strong>\n            <ul>\n              {currentUser.roles &&\n                currentUser.roles.map((role, index) => <li key={index}>{role}</li>)}\n            </ul>\n          </div> : null}\n      </div>\n    );\n  }\n}\n","export default function authHeader() {\n  const userStr = localStorage.getItem(\"user\");\n  let user = null;\n  if (userStr)\n    user = JSON.parse(userStr);\n\n  if (user && user.accessToken) {\n    return { Authorization: 'Bearer ' + user.accessToken }; // for Spring Boot back-end\n    // return { 'x-access-token': user.accessToken };       // for Node.js Express back-end\n  } else {\n    return { Authorization: '' }; // for Spring Boot back-end\n    // return { 'x-access-token': null }; // for Node Express back-end\n  }\n}","import axios from 'axios';\nimport authHeader from './auth-header';\n\nconst API_URL = 'http://localhost:8080/api/test/';\n\nclass UserService {\n  getPublicContent() {\n    return axios.get(API_URL + 'all');\n  }\n\n  getUserBoard() {\n    return axios.get(API_URL + 'user', { headers: authHeader() });\n  }\n\n  getModeratorBoard() {\n    return axios.get(API_URL + 'mod', { headers: authHeader() });\n  }\n\n  getAdminBoard() {\n    return axios.get(API_URL + 'admin', { headers: authHeader() });\n  }\n}\n\nexport default new UserService();\n","const eventBus = {\n  on(event: string, callback: EventListener) {\n    document.addEventListener(event, (e) => callback(e));\n  },\n  dispatch(event: string, data?: any) {\n    document.dispatchEvent(new CustomEvent(event, { detail: data }));\n  },\n  remove(event: string, callback: EventListener) {\n    document.removeEventListener(event, callback);\n  },\n};\n\nexport default eventBus;\n","import { Component } from \"react\";\n\nimport UserService from \"../services/user.service\";\nimport EventBus from \"../common/EventBus\";\n\ntype Props = {};\n\ntype State = {\n  content: string;\n}\n\nexport default class BoardUser extends Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n\n    this.state = {\n      content: \"\"\n    };\n  }\n\n  componentDidMount() {\n    UserService.getUserBoard().then(\n      response => {\n        this.setState({\n          content: response.data\n        });\n      },\n      error => {\n        this.setState({\n          content:\n            (error.response &&\n              error.response.data &&\n              error.response.data.message) ||\n            error.message ||\n            error.toString()\n        });\n\n        if (error.response && error.response.status === 401) {\n          EventBus.dispatch(\"logout\");\n        }\n      }\n    );\n  }\n\n  render() {\n    return (\n      <div className=\"container\">\n        <header className=\"jumbotron\">\n          <h3>{this.state.content}</h3>\n        </header>\n      </div>\n    );\n  }\n}\n","import { Component } from \"react\";\n\nimport UserService from \"../services/user.service\";\nimport EventBus from \"../common/EventBus\";\n\ntype Props = {};\n\ntype State = {\n  content: string;\n}\n\nexport default class BoardAdmin extends Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n\n    this.state = {\n      content: \"\"\n    };\n  }\n\n  componentDidMount() {\n    UserService.getModeratorBoard().then(\n      response => {\n        this.setState({\n          content: response.data\n        });\n      },\n      error => {\n        this.setState({\n          content:\n            (error.response &&\n              error.response.data &&\n              error.response.data.message) ||\n            error.message ||\n            error.toString()\n        });\n\n        if (error.response && error.response.status === 401) {\n          EventBus.dispatch(\"logout\");\n        }\n      }\n    );\n  }\n\n  render() {\n    return (\n      <div className=\"container\">\n        <header className=\"jumbotron\">\n          <h3>{this.state.content}</h3>\n        </header>\n      </div>\n    );\n  }\n}\n","import { Component } from \"react\";\n\nimport UserService from \"../services/user.service\";\nimport EventBus from \"../common/EventBus\";\n\ntype Props = {};\n\ntype State = {\n  content: string;\n}\n\nexport default class BoardAdmin extends Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n\n    this.state = {\n      content: \"\"\n    };\n  }\n\n  componentDidMount() {\n    UserService.getAdminBoard().then(\n      response => {\n        this.setState({\n          content: response.data\n        });\n      },\n      error => {\n        this.setState({\n          content:\n            (error.response &&\n              error.response.data &&\n              error.response.data.message) ||\n            error.message ||\n            error.toString()\n        });\n\n        if (error.response && error.response.status === 401) {\n          EventBus.dispatch(\"logout\");\n        }\n      }\n    );\n  }\n\n  render() {\n    return (\n      <div className=\"container\">\n        <header className=\"jumbotron\">\n          <h3>{this.state.content}</h3>\n        </header>\n      </div>\n    );\n  }\n}\n","import { Component } from \"react\";\nimport { Switch, Route, Link } from \"react-router-dom\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./App.css\";\n\nimport AuthService from \"./services/auth.service\";\nimport IUser from './types/user.type';\n\nimport Login from \"./components/login.component\";\nimport Home from \"./components/home.component\";\nimport Profile from \"./components/profile.component\";\nimport BoardUser from \"./components/board-user.component\";\nimport BoardModerator from \"./components/board-moderator.component\";\nimport BoardAdmin from \"./components/board-admin.component\";\n\nimport EventBus from \"./common/EventBus\";\n\ntype Props = {};\n\ntype State = {\n  showModeratorBoard: boolean,\n  showAdminBoard: boolean,\n  currentUser: IUser | undefined\n}\n\nclass App extends Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.logOut = this.logOut.bind(this);\n\n    this.state = {\n      showModeratorBoard: false,\n      showAdminBoard: false,\n      currentUser: undefined,\n    };\n  }\n\n  componentDidMount() {\n    const user = AuthService.getCurrentUser();\n\n    if (user) {\n      this.setState({\n        currentUser: user,\n        showModeratorBoard: user.roles.includes(\"ROLE_MODERATOR\"),\n        showAdminBoard: user.roles.includes(\"ROLE_ADMIN\"),\n      });\n    }\n\n    EventBus.on(\"logout\", this.logOut);\n  }\n\n  componentWillUnmount() {\n    EventBus.remove(\"logout\", this.logOut);\n  }\n\n  logOut() {\n    AuthService.logout();\n    this.setState({\n      showModeratorBoard: false,\n      showAdminBoard: false,\n      currentUser: undefined,\n    });\n  }\n\n  render() {\n    const { currentUser, showModeratorBoard, showAdminBoard } = this.state;\n\n    return (\n      <div>\n        <nav className=\"navbar navbar-expand navbar-dark bg-dark\">\n          <Link to={\"/\"} className=\"navbar-brand\">\n            Askia Lite\n          </Link>\n          <div className=\"navbar-nav mr-auto\">\n            <li className=\"nav-item\">\n              <Link to={\"/home\"} className=\"nav-link\">\n                Home\n              </Link>\n            </li>\n\n            {showModeratorBoard && (\n              <li className=\"nav-item\">\n                <Link to={\"/mod\"} className=\"nav-link\">\n                  Moderator Board\n                </Link>\n              </li>\n            )}\n\n            {showAdminBoard && (\n              <li className=\"nav-item\">\n                <Link to={\"/admin\"} className=\"nav-link\">\n                  Admin Board\n                </Link>\n              </li>\n            )}\n\n            {currentUser && (\n              <li className=\"nav-item\">\n                <Link to={\"/user\"} className=\"nav-link\">\n                  User\n                </Link>\n              </li>\n            )}\n          </div>\n\n          {currentUser ? (\n            <div className=\"navbar-nav ml-auto\">\n              <li className=\"nav-item\">\n                <Link to={\"/profile\"} className=\"nav-link\">\n                  {currentUser.username}\n                </Link>\n              </li>\n              <li className=\"nav-item\">\n                <a href=\"/login\" className=\"nav-link\" onClick={this.logOut}>\n                  LogOut\n                </a>\n              </li>\n            </div>\n          ) : (\n            <div className=\"navbar-nav ml-auto\">\n              <li className=\"nav-item\">\n                <Link to={\"/login\"} className=\"nav-link\">\n                  Login\n                </Link>\n              </li>\n            </div>\n          )}\n        </nav>\n\n        <div className=\"container mt-3\">\n          <Switch>\n            <Route exact path={[\"/\", \"/home\"]} component={Home} />\n            <Route exact path=\"/login\" component={Login} />\n            <Route exact path=\"/profile\" component={Profile} />\n            <Route path=\"/user\" component={BoardUser} />\n            <Route path=\"/mod\" component={BoardModerator} />\n            <Route path=\"/admin\" component={BoardAdmin} />\n          </Switch>\n        </div>\n\n        { /*<AuthVerify logOut={this.logOut}/> */}\n      </div>\n    );\n  }\n}\n\nexport default App;","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import ReactDOM from 'react-dom';\nimport { BrowserRouter } from \"react-router-dom\";\n\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}